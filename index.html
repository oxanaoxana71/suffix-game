<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задание 11. Суффиксы существительных</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ЭКРАН 1: ПРИВЕТСТВИЕ -->
    <div id="welcome-screen" class="screen active">
        <div class="container">
            <div class="logo">
                <i class="fas fa-feather-alt"></i>
                <h1>Задание 11.<br>Суффиксы существительных</h1>
            </div>
            
            <div class="input-container">
                <label for="player-name">Введите ваше имя</label>
                <input type="text" id="player-name" placeholder="Например: Алексей" maxlength="20">
                <div class="error-message" id="name-error"></div>
            </div>
            
            <button id="start-game-btn" class="btn-primary">
                Начать игру
            </button>
            
            <div class="hint">
                <p><i class="fas fa-info-circle"></i> Вам предстоит 30 слов на правописание суффиксов</p>
            </div>
        </div>
    </div>

    <!-- ЭКРАН 2: ИГРОВОЙ ПРОЦЕСС -->
    <div id="game-screen" class="screen">
        <!-- Шапка с именем и прогрессом -->
        <div class="game-header">
            <div class="player-info">
                <span id="current-player">Игрок:</span>
            </div>
            <div class="progress-container">
                <div class="progress-text">
                    <span id="current-word">Слово: 1/30</span>
                    <span id="score">Правильно: <span class="correct-count">0</span> | Ошибок: <span class="wrong-count">0</span></span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
        </div>

        <!-- Основная область игры -->
        <div class="game-container">
            <!-- Область слова и обратной связи -->
            <div class="word-section">
                <div class="word-display" id="word-display">
                    <!-- Слово будет вставлено сюда через JS -->
                </div>
                
                <div class="feedback-message" id="feedback-message">
                    <!-- Сообщения с эмодзи будут появляться здесь -->
                </div>
            </div>

            <!-- Клавиатура выбора букв -->
            <div class="keyboard-section">
                <!-- Первый ряд букв -->
                <div class="keyboard-row">
                    <button class="letter-btn" data-letter="а">а</button>
                    <button class="letter-btn" data-letter="я">я</button>
                    <button class="letter-btn" data-letter="е">е</button>
                    <button class="letter-btn" data-letter="и">и</button>
                </div>
                
                <!-- Второй ряд букв -->
                <!-- Второй ряд букв (ИЗМЕНЕНО: ё, щ, о, ч вместо ё, ы, о, с) -->
             <div class="keyboard-row">
             <button class="letter-btn" data-letter="ё">ё</button>
             <button class="letter-btn" data-letter="щ">щ</button>
             <button class="letter-btn" data-letter="о">о</button>
             <button class="letter-btn" data-letter="ч">ч</button>

                </div>
                
                <!-- Кнопка очистки -->
                <div class="keyboard-row">
                    <button class="control-btn" id="clear-btn">
                        <i class="fas fa-eraser"></i> Очистить
                    </button>
                </div>
                
                <!-- Кнопки действия -->
                <div class="keyboard-row action-buttons">
                    <button class="control-btn btn-check" id="check-btn" disabled>
                        <i class="fas fa-check-circle"></i> Проверить
                    </button>
                    <button class="control-btn btn-skip" id="skip-btn">
                        <i class="fas fa-forward"></i> Пропустить
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ЭКРАН 3: РЕЗУЛЬТАТЫ -->
    <div id="results-screen" class="screen">
        <div class="container">
            <h2><i class="fas fa-flag-checkered"></i> Раунд завершен!</h2>
            <!-- Статистика -->
            <div class="stats-card">
                <div class="stat-item">
                    <span class="stat-label">Правильных ответов:</span>
                    <span class="stat-value" id="final-correct">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Процент:</span>
                    <span class="stat-value" id="final-percentage">0%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Время:</span>
                    <span class="stat-value" id="final-time">0:00</span>
                </div>
            </div>
            
            <!-- Личная турнирная таблица -->
            <div class="leaderboard">
                <h3><i class="fas fa-trophy"></i> Ваша таблица лидеров за сегодня</h3>
                <div class="leaderboard-table" id="personal-leaderboard">
                    <!-- Данные будут заполнены через JS -->
                </div>
                <p class="rank-message" id="rank-message">
                    <!-- Сообщение о месте будет здесь -->
                </p>
            </div>
            
            <!-- Кнопки действий -->
            <div class="action-buttons results-buttons">
                <button class="btn-primary" id="new-game-btn">
                    <i class="fas fa-redo"></i> Новая игра
                </button>
                <button class="btn-secondary" id="exit-btn">
                    <i class="fas fa-sign-out-alt"></i> Выйти
                </button>
            </div>
        </div>
    </div>

    <script src="words-database.js"></script>
    <script src="script.js"></script>
<script>
    // Кнопка для очистки данных (только для отладки)
    document.addEventListener('DOMContentLoaded', function() {
        const clearBtn = document.createElement('button');
        clearBtn.textContent = '🔄 Очистить всё';
        clearBtn.style.position = 'fixed';
        clearBtn.style.bottom = '10px';
        clearBtn.style.right = '10px';
        clearBtn.style.zIndex = '10000';
        clearBtn.style.padding = '8px 15px';
        clearBtn.style.background = '#e74c3c';
        clearBtn.style.color = 'white';
        clearBtn.style.border = 'none';
        clearBtn.style.borderRadius = '5px';
        clearBtn.style.cursor = 'pointer';
        clearBtn.style.fontSize = '12px';
        
        clearBtn.addEventListener('click', function() {
            if (confirm('Очистить все сохраненные данные? Имя и результаты будут удалены.')) {
                localStorage.clear();
                location.reload();
            }
        });
        
        document.body.appendChild(clearBtn);
    });
</script>
<script>
    // Кнопка для принудительного завершения игры (только для отладки)
    document.addEventListener('DOMContentLoaded', function() {
        const debugBtn = document.createElement('button');
        debugBtn.textContent = '🔧 Завершить игру';
        debugBtn.style.position = 'fixed';
        debugBtn.style.bottom = '50px';
        debugBtn.style.right = '10px';
        debugBtn.style.zIndex = '10000';
        debugBtn.style.padding = '8px 15px';
        debugBtn.style.background = '#9b59b6';
        debugBtn.style.color = 'white';
        debugBtn.style.border = 'none';
        debugBtn.style.borderRadius = '5px';
        debugBtn.style.cursor = 'pointer';
        debugBtn.style.fontSize = '12px';
        
        debugBtn.addEventListener('click', function() {
            if (confirm('Принудительно завершить игру и перейти к результатам?')) {
                // Принудительно устанавливаем, что все слова пройдены
                currentWordIndex = 30;
                endGame();
            }
        });
        
        document.body.appendChild(debugBtn);
    });
</script>
</body>
</html>